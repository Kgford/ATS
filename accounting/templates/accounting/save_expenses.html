{% extends "equipment/layout.html" %}
{% load static %}

{% block title %}
    {{ index_type }}
{% endblock %}

{% block body %}
<body>
   <nav class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
		<a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" href="#">ATS Expense Manager</a>
		<button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
		  <span class="navbar-toggler-icon"></span>
		</button>
		<input class="form-control form-control-dark w-100" type="text" placeholder="Search" aria-label="Search">
		<ul class="navbar-nav px-3">
		  <li class="nav-item text-nowrap">
			<a class="nav-link" href="{% url 'users:logout' %}">Sign out</a>
		  </li>
		</ul>
    </nav>
	<div class="container-fluid">
	  <div class="row">
		<nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
		  <div class="sidebar-sticky pt-3">
			<ul class="nav flex-column">
			     <li class="nav-item">
					<a class="nav-link active" href="{% url 'users:base' %}">
					  <span data-feather="home"></span>
					  Home <span class="sr-only">(current)</span>
					</a>
			    </li>
				<li class="nav-item">
					<a class="nav-link active" href="{% url 'inventory:inven' %}">
					  <span data-feather="home"></span>
					  Search Inventory <span class="sr-only">(current)</span>
					</a>
			    </li>
				  <li class="nav-item">
					<a class="nav-link" href="{% url 'inventory:items' %}">
					  <span data-feather="file"></span>
					  Create Inventory items
					</a>
				  </li>
				  {% if mod == -1 %}
						<li class="nav-item">
						<a class="nav-link" href="{% url 'equipment:showimage' %}">
						  <span data-feather="file"></span>
						  Add Image
						</a>
					  </li>
					  <li class="nav-item">
						<a class="nav-link" href="{% url 'equipment:equipment' %}">
						  <span data-feather="file"></span>
						  Search Equipment
						</a>
					  </li>
				  {% else %}
					  <li class="nav-item">
						<a class="nav-link" href="{% url 'equipment:newmodel' %}">
						  <span data-feather="file"></span>
						  Create new Model 
						</a>
					  </li>
				  {% endif %}
				  <li class="nav-item">
					<a class="nav-link" href="{% url 'locations:location' %}">
					  <span data-feather="users"></span>
					  Add Site locations
					</a>
				  </li>
				  <li class="nav-item">
					<a class="nav-link" href="{% url 'accounting:expenses' %}">
					  <span data-feather="layers"></span>
					  Search Inventory
					</a>
				 </li>
				 <li class="nav-item">
					<a class="nav-link" href="{% url 'users:logout' %}">
					  <span data-feather="layers"></span>
					  Log out
					</a>
				 </li>
			 </ul>
		</div>
	</nav>
	<main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-md-4">
	    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
			{% if exp == -1 %}
				<h1 class="h2">Create new Expense Item</h1>
			{% else %}
			<h1 class="h2">Modify Expense Item</h1>
				{% endif %}
			<div class="btn-toolbar mb-2 mb-md-0">
				<div class="btn-group mr-2">
					<button type="button" id = "share" class="btn btn-sm btn-outline-secondary">Share</button>
					<button type="button" id = "export" class="btn btn-sm btn-outline-secondary">Export</button>
				</div>
			</div>
		</div>
		<form action = "{% url 'accounting:save_expenses' %}"  method="post" enctype="multipart/form-data">
			{% csrf_token %}
			<input type='hidden' id = 'e_id' name='e_id' value = {{exp.id}} data-select='expense_id'/>
			<div class="row">
				<div class="col-sm-1 col-lg-2 grid-col">
					 <div class="form-group">
						<label>Expense Type<span class="k-required"></span></label>
						<input type='hidden' name='category' data-select='category'/>
						<select id='_expense_type' name = "_expense_type" value = "{{exp.expense_type}}" class="browser-default custom-select custom-select-lg mb-3" >
							{% if exp.expense_type == -1 %}
								<option selected>select option</option>
							{% else %}
								<option selected>{exp.expense_type}}</option>
							{% endif %}
							<option data-desc = 'expense_type', value = "General">General</option>
							<option data-desc = 'expense_type', value = "Marketing">Marketing</option>
							<option data-desc = 'expense_type', value = "Salarys">Salarys</option>
						</select>
					</div>	
				</div>	
				<div class="col-sm-1 col-lg-2 grid-col">
					<div class="form-group">
						<label>Expense Description<span class="k-required"></span></label>
						<input type='hidden' name='exp_desc' data-select='site'/>
						<select id='_exp_desc' name = "_exp_desc" class="browser-default custom-select custom-select-lg mb-3" onchange="this.form.submit()">
							{% if exp.expense_desc != -1  and expense_desc != 'select menu'%}
								<option selected>{{exp.expense_desc}}</option>
								<option data-desc = 'expense', value = "select menu">select menu</option>
							{% else %}
								<option selected>All General Expenses</option>
							{% endif %}	
							<option data-desc = 'expense', value = "Rent">Rent</option>
							<option data-desc = 'expense', value = "Utilities">Utilities</option>
							<option data-desc = 'expense', value = "Insurance">Insurance</option>
							<option data-desc = 'expense', value = "Fees">Fees</option>
							<option data-desc = 'expense', value = "Wages">Wages</option>
							<option data-desc = 'expense', value = "Taxes">Taxes</option>
							<option data-desc = 'expense', value = "Interest">Interest</option>
							<option data-desc = 'expense', value = "Office Supplies">Office Supplies</option>
							<option data-desc = 'expense', value = "Lab Supplies">Lab Supplies</option>
							<option data-desc = 'expense', value = "Machine Shop Supplies">Machine Shop Supplies</option>
							<option data-desc = 'expense', value = "Internet">Internet</option>
							<option data-desc = 'expense', value = "Database">Database</option>
							<option data-desc = 'expense', value = "Computers">Computers</option>
							<option data-desc = 'expense', value = "Electronics">Electronics</option>
							<option data-desc = 'expense', value = "Test Fixtures">Test Fixtures</option>
							<option data-desc = 'expense', value = "Robot">Robot</option>
							<option data-desc = 'expense', value = "Software">Software</option>
							<option data-desc = 'expense', value = "Services">Services</option>
							<option data-desc = 'expense', value = "Depreciation">Depreciation</option>
							<option data-desc = 'expense', value = "Maintainance">Maintainance</option>
							<option data-desc = 'expense', value = "Travel">Travel</option>
							<option data-desc = 'expense', value = "Meals">Meals</option>
							<option data-desc = 'expense', value = "Tools">Tools</option>
							<option data-desc = 'expense', value = "Misc">Misc</option>
							<option data-desc = 'expense', value = "Shipping">Shipping</option>
							<option data-desc = 'expense', value = "Vehicle Lease">Vehicle Lease</option>
							<option data-desc = 'expense', value = "Storage">Storage</option>
							<option data-desc = 'expense', value = "Display">Display</option>
							<option data-desc = 'expense', value = "Entertainment">Entertainment</option>
							<option data-desc = 'expense', value = "Training">Training</option>
							<option data-desc = 'expense', value = "Packaging">Packaging</option>
						</select>
					</div>
				</div>
				<div class="col-sm-1 col-lg-2 grid-col">
					<div class="form-group">
						<label>vendor<span class="k-required"></span></label>
						<input type='hidden' name='_vendor' data-select='vendor'/>
						<select id='_vendor' name ='_vendor' class="browser-default custom-select custom-select-lg mb-3" onchange="this.form.submit()">
							{% if vendor != -1  and vendor != 'select menu'%}
								<option selected>{{vendor}}</option>
								<option data-desc = 'vendor', value = "select menu">select menu</option>
							{% else %}
								<option selected>select menu</option>
							{% endif %}	
							{% for ven in vendor_list%}
								<option data-desc = 'vendor', value = "{{ven}}">{{ven}}</option>
							{% endfor %}
						</select>
					</div>
				</div>	
			</div>	
			<div class="col-sm-1 col-lg-2 grid-col">
					<div class="form-group">
						<label for="_item_name">Item Name</label>
						{% if exp.item == -1 %}
							<input id = "_item_name" name = "_item_name" input class="form-control" placeholder="Enter Item Name"  required >
						{% else %}
							<input id = "_item_name" name = "_item_name" input class="form-control" value = "{{exp.item}}"  required >
						{% endif %}
					</div>
				</div>
			<div class="row">
				<div class="col-sm-1 col-lg-4 grid-col">
				
					<div class="form-group">
						<label for="_item_desc">Item Description</label>
						{% if exp.item_desc == -1 %}
							<input id = "_desc" name = "_item_desc" input class="form-control" placeholder="Enter Item description"  required >
						{% else %}
							<input id = "_desc" name = "_item_desc" input class="form-control" value = "{{exp.item_desc}}"  required >
						{% endif %}
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-sm-1 col-lg-1 grid-col">
					<div class="form-group">
						<label for="_quantity">Quantity</label>
						{% if exp.quantity == -1 %}
							<input id = "_quantity"  name = "_quantity" input class="form-control"  placeholder="Enter item cost"  required autofocus>
						{% else %}
							<input id = "_quantity"  name = "_quantity" value = "{{exp.quantity}}" input class="form-control"  required autofocus>
						{% endif %}
					</div>	
				</div>
				<div class="col-sm-1 col-lg-2 grid-col">
					<div class="form-group">
						<label for="_item_cost">Item Cost</label>
						{% if exp.item_cost == -1 %}
							<input id = "_item_cost"  name = "_item_cost" input class="form-control"  placeholder="Enter item cost"  required autofocus>
						{% else %}
							<input id = "_item_cost"  name = "_item_cost" value = "{{exp.item_cost}}" input class="form-control"  required autofocus>
						{% endif %}
					</div>	
				</div>
				<div class="col-sm-1 col-lg-2 grid-col">
					<div class="form-group">
						<label for="_total_cost">Total Cost</label>
						{% if exp.total_cost == -1 %}
							<input id = "_total_cost" name = "_total_cost" input class="form-control" placeholder="Enter Vendor"  required autofocus>
						{% else %}
							<input id = "_total_cost" name = "_total_cost" input class="form-control" value = "{{exp.total_cost}}" required autofocus>
						{% endif %}
					</div>
				</div>
				<div class="col-sm-1 col-lg-1 grid-col">
					<div class="form-group">
						<label for="_quantity">Sale Date</label>
						{% if exp.sale_date == -1 %}
							<input id = "_sale_date"  name = "_sale_date" input class="form-control"  placeholder="Enter item cost"  required autofocus>
						{% else %}
							<input id = "_sale_date"  name = "_sale_date" value = "{{exp.sale_date}}" input class="form-control"  required autofocus>
						{% endif %}
					</div>	
				</div>
			</div>	
			<div class="row">
			    {% if exp == -1 %}
					<div class="col-sm-1 col-lg-1 grid-col">
						<div class="form-group">
							<input type="submit" id = "_save" name = "_save" data-search="save"  value="Save Expense">
						</div>
					</div>
				{% else %}
					<div class="col-sm-1 col-lg-1 grid-col">
						<div class="form-group">
							<input type="submit" id = "_update" name = "_update" data-update="save"  value="Update Expense">
						</div>
					</div>
					<div class="col-sm-1 col-lg-1 grid-col">
						<div class="form-group">
							<input type="submit" id = "_delete" name = "_delete" data-update="save"  value="Delete Expense">
						</div>
					</div>
					
				{% endif %}
			</div>
			<div class="row">
				<div class="col-sm-1 col-lg-1 grid-col">
					<div class="form-group">
						<label for="_quantity">Sale Date</label>
						{% if exp == -1 %}
							<div class="form-check">
								<input type="checkbox" class="form-check-input" id="_interval" name="_interval" checked = True>
								<label class="form-check-label" for="materialUnchecked">Re-occuring Interval?</label>
							</div>
						{% else %}
							<div class="form-check">
								<input type="checkbox" class="form-check-input"  id="_interval" name="_interval" value = unchecked>
								<label class="form-check-label" for="materialUnchecked">Non Re-occuring Interval</label>
							</div>
						{% endif %}
						
						<div class="col-sm-1 col-lg-2 grid-col">
						{% if exp != -1 %}
						 <div class="form-group">
							<label>Expense Type<span class="k-required"></span></label>
							<input type='hidden' name='interval' data-select='interval'/>
							<select id='_interval' name = "_interval" value = "{{exp.reoccuring_interval}}" class="browser-default custom-select custom-select-lg mb-3" >
								{% if exp.reoccuring_interval == -1 %}
									<option selected>select option</option>
								{% else %}
									<option selected>{exp.reoccuring_interval}}</option>
								{% endif %}
								<option data-desc = 'expense_type', value = "Monthly">Monthly</option>
								<option data-desc = 'expense_type', value = "Quarterly">Quarterly</option>
								<option data-desc = 'expense_type', value = "6 Months">6 Months</option>
								<option data-desc = 'expense_type', value = "1 Year">1 Year</option>
								<option data-desc = 'expense_type', value = "2 Year">2 Year</option>
								<option data-desc = 'expense_type', value = "3 Year">5 Year</option>
							</select>
						</div>	
					{% endif %}
					</div>	
					</div>	
				</div>
			</div>
			
		</form>
		<h2 class="text-center">Expense List</h2>
		<div class="table-responsive" Method = "POST">
			 <table id = "table_id" class="table table-striped table-sm">
			    <thead>
					<tr>
					  <th>Vendor ID</th>
					  <th>Expense Type</th>
					  <th>Expense Desc</th>
					  <th>Sale Date</th>
					  <th>Item Description</th>
					  <th>Quantity</th>
					  <th>Total Cost</th>
					</tr>
			    </thead>
				<tbody>
					{% for exp1 in expense_list %}
						<tr>
							<td><a class="nav-link" href="{% url 'accounting:save_expenses' %}?expense_id ={{exp.id}}">{{exp1.vendor_id}}</td>
							<td><a class="nav-link" href="{% url 'accounting:save_expenses' %}?expense_id ={{exp.id}}">{{exp1.expense_type}}</td>
							<td><a class="nav-link" href="{% url 'accounting:save_expenses' %}?expense_id ={{exp.id}}">{{exp1.expense_description}}</td>
							<td><a class="nav-link" href="{% url 'accounting:save_expenses' %}?expense_id ={{exp.id}}">{{exp1.sale_date}}</td>
							<td><a class="nav-link" href="{% url 'accounting:save_expenses' %}?expense_id ={{exp.id}}">{{exp1.item_desc}}</td>
							<td><a class="nav-link" href="{% url 'accounting:save_expenses' %}?expense_id ={{exp.id}}">{{exp1.quantity}}</td>
							<td><a class="nav-link" href="{% url 'accounting:save_expenses' %}?expense_id ={{exp.id}}">{{exp1.total_cost}}</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
    </main>
  </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script> 
<script>'undefined'=== typeof _trfq || (window._trfq = []);'undefined'=== typeof _trfd && (window._trfd=[]),_trfd.push({'tccl.baseHost':'secureserver.net'}),_trfd.push({'ap':'cpsh'},{'server':'p3plcpnl0769'}) // Monitoring performance to make your website faster. If you want to opt-out, please contact web hosting support.</script><script src='https://img1.wsimg.com/tcc/tcc_l.combined.1.0.6.min.js'></script></html>
</body>
{% endblock %}

</html>
